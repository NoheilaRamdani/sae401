{% extends 'base.html.twig' %}

{% block title %}Gestion des devoirs{% endblock %}
{% block body %}
    <h1>Gestion des devoirs</h1>
    <div>
        <form method="get" action="{{ path('manage_assignments') }}">
            <div>
                <select name="subject">
                    <option value="">Toutes les matières</option>
                    {% for subject in subjects %}
                        <option value="{{ subject.id }}" {% if current_subject == subject.id|default('') %}selected{% endif %}>
                            {{ subject.name }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <select name="group">
                    <option value="">Tous les groupes</option>
                    {% for group in groups %}
                        <option value="{{ group.id }}" {% if current_group == group.id|default('') %}selected{% endif %}>
                            {{ group.name }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <button type="submit">Filtrer</button>
            </div>
        </form>
    </div>
    {% if assignments|length > 0 %}
        {% for assignment in assignments %}
            <div>
                <strong>{{ assignment.title }}</strong><br>
                <small>Date limite: {{ assignment.dueDate|date('d/m/Y') }}</small>
            </div>
        {% endfor %}
    {% else %}
        <p>Aucun devoir trouvé.</p>
    {% endif %}
{% endblock %}